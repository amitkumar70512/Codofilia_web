<!DOCTYPE html>
<html>
<head>
<title>
   Assemblylogin.Library of functions
</title>
<script src="https://kit.fontawesome.com/76b626d43d.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style.css" type="text/css">
        <link rel="stylesheet" href="style1.css" type="text/css">
        <link rel="icon" href="asmlogo.jpg" type="text/icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8" /> 
    </head>
    <body>
        <nav>
            
                <div class="top">
                   <a href=""><i class ="fas fa-code"></i></a> 
                    <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/firstpage.html"><i class="fas fa-home">Home </i>  </a>
                    <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/ebook1.html"><i class="fas fa-book-open">e-books</i></a>
                    
                
                 <a href ="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/programs.html">8086 examples</a>
            
           <!---- <div id="reg"> <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/registration.html">Register</a>
             </div> -->
             
             <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/registration.html">Sign in  <i class="fas fa-sign-in-alt"></i> </a></div>
                
            
        </nav>
        
        <div class="dropdown">
               
          <button class="dropbutton"><i class="fas fa-microchip"></i>8086  <i class="fas fa-caret-down"></i></button>
          <div class="content">
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/pin8086.html"> Artitecture and Pin diagram</a>
          
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material2.html">Registers</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material3.html">Memory accessing</a>
          
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material5.html">variables</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material6.html">Arrays</a>

          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material8.html">Interrupts</a>

          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material12.html">Procedures</a>

        </div>
        </div>
        <div class="dropdown">
          <button class="dropbutton"><i class="fas fa-microchip"></i>8051  <i class="fas fa-caret-down" ></i></button>
          <div class="content">
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material1.html">Introduction to 8051</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material2.html">Artitecture</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material3.html">Pin description</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material4.html">8051 Stack</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material5.html">Bit Addressable</a>
          
        </div>
        </div>
        
                    <div class="dropdown">
                      <button class="dropbutton"><i class="fas fa-project-diagram"></i>Compilers <i class="fas fa-caret-down"></i></button>
                      <div class="content">
                      <a href="https://www.onlinegdb.com">Online GDB Compiler </a>
                      <a href="https://www.tutorialspoint.com/compile_assembly_online.php">MASM compiler</a>
                      <a href="https://www.tutorialspoint.com/compile_c_online.php"><i class="fas fa-code" style="width:25px;height:25px;"></i>C Compiler</a>
                      <a href="https://www.tutorialspoint.com/compile_java_online.php"><i class ="fab fa-java" style="width:25px;height:25px;"></i>JAVA Compiler</a>
                    
                    </div>
                    </div>
               
            
       
            <div class="material">
                <h1>Library of common functions</h1>
				<h3>To make programming easier there are some common functions that can be
included in your program. To make your program use functions defined in
other file you should use the INCLUDE directive followed by a file name.
Compiler automatically searches for the file in the same folder where the
source file is located, and if it cannot find the file there - it searches in Inc
folder.</h3>
<h3>Currently you may not be able to fully understand the contents of the
emu8086.inc (located in Inc folder), but it's OK, since you only need to
understand what it can do.</h3>
<h3>To use any of the functions in emu8086.inc you should have the following line
in the beginning of your source file:</h3>
<h3>include 'emu8086.inc'</h3>
<h3>emu8086.inc defines the following macros:</h3>
<h3> PUTC char - macro with 1 parameter, prints out an ASCII char at
current cursor position.</h3>
<h3> GOTOXY col, row - macro with 2 parameters, sets cursor position.</h3>
<h3> PRINT string - macro with 1 parameter, prints out a string.</h3>
<h3> PRINTN string - macro with 1 parameter, prints out a string. The same
as PRINT but automatically adds "carriage return" at the end of the
string.</h3>
<h3> CURSOROFF - turns off the text cursor.</h3>
<h3> CURSORON - turns on the text cursor.</h3>
<h3>To use any of the above macros simply type its name somewhere in your code,
and if required parameters, for example:</h3>
<p style="border:6px; border-style:solid; border-color:#808080; padding: 1em;">
include emu8086.inc
<br>ORG 100h
<br>PRINT 'Hello World!'
<br>GOTOXY 10, 5
<br>PUTC 65 ; 65 - is an ASCII code for 'A'
<br>PUTC 'B'
<br>RET ; return to operating system.
<br>END ; directive to stop the compiler.
</p>
<h3>When compiler process your source code it searches the emu8086.inc file for
declarations of the macros and replaces the macro names with real code.
Generally macros are relatively small parts of code, frequent use of a macro
may make your executable too big (procedures are better for size
optimization). </h3>
<h3>emu8086.inc also defines the following procedures:</h3>
<h3> PRINT_STRING - procedure to print a null terminated string at current
cursor position, receives address of string in DS:SI register. To use it
declare: DEFINE_PRINT_STRING before END directive.</h3>
<h3> PTHIS - procedure to print a null terminated string at current cursor
position (just as PRINT_STRING), but receives address of string from
Stack. The ZERO TERMINATED string should be defined just after the
CALL instruction. For example:</h3>
<h3>CALL PTHIS</h3>
<h3>db 'Hello World!', 0</h3>
<h3>To use it declare: DEFINE_PTHIS before END directive.</h3>
<h3> GET_STRING - procedure to get a null terminated string from a user,
the received string is written to buffer at DS:DI, buffer size should be in
<h3>DX. Procedure stops the input when 'Enter' is pressed. To use it declare:</h3>
<h3>DEFINE_GET_STRING before END directive.</h3>
<h3> CLEAR_SCREEN - procedure to clear the screen, (done by scrolling
entire screen window), and set cursor position to top of it. To use it
declare: DEFINE_CLEAR_SCREEN before END directive</h3>
<h3> SCAN_NUM - procedure that gets the multi-digit SIGNED number from
the keyboard, and stores the result in CX register. To use it declare:
DEFINE_SCAN_NUM before END directive</h3>
<h3> PRINT_NUM - procedure that prints a signed number in AX register. To
use it declare: DEFINE_PRINT_NUM and DEFINE_PRINT_NUM_UNS
before END directive</h3>
<h3> PRINT_NUM_UNS - procedure that prints out an unsigned number in
AX register. To use it declare: DEFINE_PRINT_NUM_UNS before END
directive.</h3>
<h3>To use any of the above procedures you should first declare the function in the
bottom of your file (but before the END directive), and then use CALL
instruction followed by a procedure name. For example:</h3>
<p style="border:6px; border-style:solid; border-color:#808080; padding: 1em;">include 'emu8086.inc'
<br>ORG 100h
<br>LEA SI, msg1 ; ask for the number
<br>CALL print_string ;
<br>CALL scan_num ; get number in CX.
<br>MOV AX, CX ; copy the number to AX.
<br>; print the following string:
<br>CALL pthis
<br>DB 13, 10, 'You have entered: ', 0
<br>CALL print_num ; print number in AX.
<br>RET ; return to operating system.
<br>msg1 DB 'Enter the number: ', 0
<br>DEFINE_SCAN_NUM
<br>DEFINE_PRINT_STRING
<br>DEFINE_PRINT_NUM
<br>DEFINE_PRINT_NUM_UNS ; required for print_num.
<br>DEFINE_PTHIS
<br>END ; directive to stop the compiler.</p>
<h3>First compiler processes the declarations (these are just regular the macros
that are expanded to procedures). When compiler gets to <b>CALL</b> instruction it
replaces the procedure name with the address of the code where the
procedure is declared. When <b>CALL</b> instruction is executed control is transferred
to procedure. This is quite useful, since even if you call the same procedure
100 times in your code you will still have relatively small executable size.
Seems complicated, isn't it? That's ok, with the time you will learn more,
currently it's required that you understand the basic principle.</h3>
		   <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material8.html">back<i class="fas fa-arrow-circle-left" style="width:25px; height:30px;"></i> </a>
            <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material10.html">next<i class="fas fa-arrow-circle-right	" style="width:25px; height:30px;"></i> </a>
            </div>

     
     <div class="lowpanel">
      <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/about.html">About</a>
      <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/contact.html"><i class="fas fa-map-marker-alt"></i>contact us</a>
         <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/feedback.html"><i class="fas fa-comment-dots"></i>feedback</a>
       
         
         <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/install0.html"><i class="fas fa-hands-helping"></i>Installations help</a>
        
     </div>
     
     <div class="socialmedia" >
      <a href="https://www.facebook.com/amit70512/"  ><i class="fab fa-facebook" style="font-size:48px;"> </i></a>
      <a href="https://www.instagram.com/assemblylearning/"><i class="fab fa-instagram"style="font-size:48px;"></i></a>
      <a href=""><i class="fab fa-twitter" style="font-size:48px;"></i></a>
      
    </div>
    </body>
</html>
