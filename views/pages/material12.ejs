<!DOCTYPE html>
<html>
<head>
<title>
   assemblylogin..Procedures
</title>
<script src="https://kit.fontawesome.com/76b626d43d.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style.css" type="text/css">
        <link rel="stylesheet" href="style1.css" type="text/css">
        <link rel="icon" href="asmlogo.jpg" type="text/icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8" /> 
    </head>
    <body>
        <nav>
            
                <div class="top">
                   <a href=""><i class ="fas fa-code"></i></a> 
                    <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/firstpage.html"><i class="fas fa-home">Home </i>  </a>
                    <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/ebook1.html"><i class="fas fa-book-open">e-books</i></a>
                    
                 <a href="">Library</a>
                 <a href ="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/programs.html">8086 examples</a>
            
           <!---- <div id="reg"> <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/registration.html">Register</a>
             </div> -->
             
             <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/registration.html">Sign in  <i class="fas fa-sign-in-alt"></i> </a></div>
              
            
        </nav>
        <div class="dropdown">
               
          <button class="dropbutton"><i class="fas fa-microchip"></i>8086  <i class="fas fa-caret-down"></i></button>
          <div class="content">
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/pin8086.html"> Artitecture and Pin diagram</a>
          
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material2.html">Registers</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material3.html">Memory accessing</a>
          
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material5.html">variables</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material6.html">Arrays</a>

          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material8.html">Interrupts</a>

          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material12.html">Procedures</a>

        </div>
        </div>
        <div class="dropdown">
          <button class="dropbutton"><i class="fas fa-microchip"></i>8051  <i class="fas fa-caret-down" ></i></button>
          <div class="content">
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material1.html">Introduction to 8051</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material2.html">Artitecture</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material3.html">Pin description</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material4.html">8051 Stack</a>
          <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/8051material5.html">Bit Addressable</a>
          
        </div>
        </div>
        
                    <div class="dropdown">
                      <button class="dropbutton"><i class="fas fa-project-diagram"></i>Compilers <i class="fas fa-caret-down"></i></button>
                      <div class="content">
                      <a href="https://www.onlinegdb.com">Online GDB Compiler </a>
                      <a href="https://www.tutorialspoint.com/compile_assembly_online.php">MASM compiler</a>
                      <a href="https://www.tutorialspoint.com/compile_c_online.php"><i class="fas fa-code" style="width:25px;height:25px;"></i>C Compiler</a>
                      <a href="https://www.tutorialspoint.com/compile_java_online.php"><i class ="fab fa-java" style="width:25px;height:25px;"></i>JAVA Compiler</a>
                   
                    </div>
                    </div>
               
            
       
            <div class="material">
			<h1>Procedures</h1>
			<h3>Procedure is a part of code that can be called from your program in order to
make some specific task. Procedures make program more structural and easier
to understand. Generally procedure returns to the same point from where it
was called.</h3>
<h3>The syntax for procedure declaration:</h3>
<h3>name PROC</h3>
 <h3>; here goes the code</h3>
 <h3>; of the procedure ...</h3>
<h3>RET</h3>
<h3>name ENDP</h3>
<h3>name - is the procedure name, the same name should be in the top and the
bottom, this is used to check correct closing of procedures.</h3>
<h3>Probably, you already know that <b>RET</b> instruction is used to return to operating
system. The same instruction is used to return from procedure (actually
operating system sees your program as a special procedure).</h3>
<h3><b>PROC</b> and <b>ENDP</b> are compiler directives, so they are not assembled into any
real machine code. Compiler just remembers the address of procedure.
<b>CALL</b> instruction is used to call a procedure.</h3>
<h3>Here is an example: </h3>
<p style="border:6px; border-style:solid; border-color:#808080; padding: 1em;">
<br>ORG 100h
<br>CALL m1
<br>MOV AX, 2
<br>RET ; return to operating system.
<br>m1 PROC
<br>MOV BX, 5
<br>RET ; return to caller.
<br>m1 ENDP
<br>END</p>
<h3>The above example calls procedure m1, does MOV BX, 5, and returns to the
next instruction after CALL: MOV AX, 2. </h3>
<h3>There are several ways to pass parameters to procedure, the easiest way to
pass parameters is by using registers, here is another example of a procedure
that receives two parameters in <b>AL</b> and <b>BL</b> registers, multiplies these
parameters and returns the result in <b>AX</b> register:</h3> 
<p style="border:6px; border-style:solid; border-color:#808080; padding: 1em;">
<br>ORG 100h
<br>MOV AL, 1
<br>MOV BL, 2
<br>CALL m2
<br>CALL m2
<br>CALL m2
<br>CALL m2
<br>RET ; return to operating system.
<br>m2 PROC
<br>MUL BL ; AX = AL * BL.
<br>RET ; return to caller.
<br>m2 ENDP
<br>END</p>
<h3>In the above example value of <b>AL</b> register is update every time the procedure
is called, <b>BL</b> register stays unchanged, so this algorithm calculates <b>2</b> in power
of <b>4</b>,</h3>
<h3>so final result in <b>AX</b> register is <b>16</b> (or 10h). </h3>
<h3>Here goes another example,
that uses a procedure to print a Hello World! message:</h3>
<p style="border:6px; border-style:solid; border-color:#808080; padding: 1em;">
<br>ORG 100h
<br>LEA SI, msg ; load address of msg to SI.
<br>CALL print_me
<br>RET ; return to operating system.
<br>;
<br>==========================================================
<br>; this procedure prints a string, the string should be null
<br>; terminated (have zero in the end),
<br>; the string address should be in SI register:
<br>print_me PROC
<br>next_char:
 <br>CMP b.[SI], 0 ; check for zero to stop
 <br>JE stop ;
 <br>MOV AL, [SI] ; next get ASCII char.
 <br>MOV AH, 0Eh ; teletype function number.
 <br>INT 10h ; using interrupt to print a char in AL.
 <br>ADD SI, 1 ; advance index of string array.
 <br>JMP next_char ; go back, and type another char.
<br>stop:
<br>RET ; return to caller.
<br>print_me ENDP
<br>;
<br>==========================================================
<br>msg DB 'Hello World!', 0 ; null terminated string.
<br>END</p>
<h3><b>"b."</b> - prefix before [SI] means that we need to compare bytes, not words.
When you need to compare words add "w." prefix instead. When one of the
compared operands is a register it's not required because compiler knows the
size of each register</h3>



		   <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material11.html">back<i class="fas fa-arrow-circle-left" style="width:25px; height:30px;"></i> </a>
            <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/material13.html">next<i class="fas fa-arrow-circle-right	" style="width:25px; height:30px;"></i> </a>
            </div>

     
     <div class="lowpanel">
      <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/about.html">About</a>
      <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/contact.html"><i class="fas fa-map-marker-alt"></i>contact us</a>
         <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/feedback.html"><i class="fas fa-comment-dots"></i>feedback</a>
        
         
         <a href="file:///C:/Users/cw/Desktop/htmlbasic/assemblylogin/install0.html"><i class="fas fa-hands-helping"></i>Installations help</a>
        
     </div>
     
     <div class="socialmedia" >
      <a href="https://www.facebook.com/amit70512/"  ><i class="fab fa-facebook" style="font-size:48px;"> </i></a>
      <a href="https://www.instagram.com/assemblylearning/"><i class="fab fa-instagram"style="font-size:48px;"></i></a>
      <a href=""><i class="fab fa-twitter" style="font-size:48px;"></i></a>
      
    </div>
    </body>
</html>
